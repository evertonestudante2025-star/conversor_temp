:root {
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.15);
  
  /* Variável controlada via JS para o tamanho do gelo */
  --ice-coverage: 0%; 
}

* { box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #111;
}

/* --- CAMADA DE COR DE FUNDO --- */
#bg-color-layer {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  z-index: -5;
  transition: background-color 1s ease;
}

/* --- CAMADA DE GELO REALISTA (Frost Window) --- */
#ice-layer {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  z-index: -2;
  pointer-events: none;
  
  /* Textura de Gelo criada com CSS + Filtro SVG */
  background-color: rgba(200, 240, 255, 0.5); /* Cor base do gelo */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.4'/%3E%3C/svg%3E");
  
  /* Filtro de distorção para parecer vidro congelado */
  filter: url(#ice-noise) blur(1px) contrast(150%);
  backdrop-filter: blur(5px);
  
  /* MÁSCARA MÁGICA: O centro é transparente (preto), as bordas são visíveis (branco) */
  /* O JS muda a porcentagem, fazendo o buraco do meio diminuir conforme esfria */
  -webkit-mask-image: radial-gradient(circle at center, transparent var(--ice-coverage), black 120%);
  mask-image: radial-gradient(circle at center, transparent var(--ice-coverage), black 120%);
  
  transition: -webkit-mask-image 1s ease, mask-image 1s ease;
}

/* --- CAMADA DE CALOR (Heat Haze) --- */
#heat-layer {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  z-index: -3;
  pointer-events: none;
  background: radial-gradient(circle at bottom, rgba(255, 60, 0, 0.4) 0%, transparent 70%);
  opacity: 0; /* JS controla */
  mix-blend-mode: screen;
  transition: opacity 1s ease;
}

/* --- INTERFACE --- */
.glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: 0 40px 80px rgba(0,0,0,0.6);
  border-radius: 24px;
  width: 90%;
  max-width: 400px;
  padding: 2.5rem 2rem;
  text-align: center;
  position: relative;
  z-index: 10;
}

/* --- TERMÔMETRO --- */
.thermo-container { margin-bottom: 1.5rem; }
#thermo { height: 180px; filter: drop-shadow(0 0 10px rgba(0,0,0,0.3)); cursor: grab; }
#thermo:active { cursor: grabbing; transform: scale(0.98); }

#mercury, #mercBulb { transition: fill 0.4s, height 0.4s, y 0.4s; }

.temp-display { font-size: 3.5rem; font-weight: 700; color: #fff; text-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.unit { font-size: 1.5rem; color: rgba(255,255,255,0.7); }
.location-label { color: rgba(255,255,255,0.5); font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase; margin-top: 5px; }

/* --- INPUTS --- */
.inputs-row { display: flex; gap: 10px; margin-bottom: 1rem; }
.input-wrapper { flex: 1; display: flex; align-items: center; background: rgba(0,0,0,0.4); border-radius: 12px; }
.input-wrapper .icon { padding-left: 10px; color: rgba(255,255,255,0.5); }
.glass-input { width: 100%; background: transparent; border: none; color: #fff; padding: 10px; text-align: center; outline: none; font-weight: 600; }
.glass-input.full-width { text-align: left; padding-left: 15px; }

.search-wrapper { position: relative; margin-bottom: 1rem; background: rgba(0,0,0,0.4); border-radius: 12px; }
.suggestions-list { position: absolute; width: 100%; top: 100%; left: 0; background: #151515; list-style: none; padding: 0; margin: 5px 0 0 0; z-index: 100; border-radius: 8px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
.suggestions-list li { padding: 10px; color: #ccc; cursor: pointer; border-bottom: 1px solid #222; text-align: left; }

.btn-neon { width: 100%; padding: 12px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.3); background: transparent; color: #fff; font-weight: 600; text-transform: uppercase; transition: 0.3s; cursor: pointer; }

/* --- PARTÍCULAS --- */
#particles-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; overflow: hidden; }

/* Neve com rotação */
.snowflake { position: absolute; color: #fff; top: -20px; animation: fall linear infinite; opacity: 0.8; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

/* Chuva rápida */
.raindrop { position: absolute; background: rgba(255,255,255,0.4); width: 2px; top: -50px; animation: rain linear infinite; }
@keyframes rain { to { transform: translateY(110vh); } }

/* Fogo/Brasa */
.fire-particle { position: absolute; bottom: -20px; border-radius: 50%; filter: blur(2px); animation: rise ease-in infinite; }
@keyframes rise { 
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-110vh) scale(0.2) translateX(10px); opacity: 0; }
}